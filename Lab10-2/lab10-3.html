<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
    
     product_quantities = [1, 5, 3, 13, 3]; 
    
    // product data 
    $item1 = 'Peanut Butter';
    $quantity1 = 1;
    $price1 = 2.99;

    var product1 = {itemName: 'Peanut Butter',
                        itemQuantity: product_quantities[0],
                        itemPrice: 2.99,
                        SKU: "1234"};

    //product1.itemQuantity = 0;
    //delete product1.SKU;

    $item2 = 'Toilet Paper';
    $quantity2 = 5;
    $price2 = 0.99;

    var product2 = {itemName: 'Toilet Paper',
                        itemQuantity: product_quantities[1],
                        itemPrice: 0.99,
                        SKU: "1235"};
    

    $item3 = 'Hot Dog Buns';
    $quantity3 = 3;
    $price3 = 1.51;

    var product3 = {itemName: 'Hot Dog Buns',
                        itemQuantity:product_quantities[2],
                        itemPrice: 1.51,
                        SKU: "1236"};
   

    $item4 = 'Paper Cups';
    $quantity4 = 13;
    $price4 = 0.25;

    var product4 = {itemName: 'Paper Cups',
                        itemQuantity:product_quantities[3],
                        itemPrice: 0.25,
                        SKU: "1237"};
    

    $item5 = 'Chicken Noodle Soup';
    $quantity5 = 3;
    $price5 = 3.65;

    var product5 = {itemName: 'Chicken Noodle Soup',
                        itemQuantity:product_quantities[4], 
                        itemPrice: 3.65,
                        SKU: "1238"};
    

    // compute extended prices 
    var extended_price1 = product1.itemPrice * product1.itemQuantity; 
    var extended_price2 = product2.itemPrice * product2.itemQuantity; 
    var extended_price3 = product3.itemPrice * product3.itemQuantity; 
    var extended_price4 = product4.itemPrice * product4.itemQuantity; 
    var extended_price5 = product5.itemPrice * product5.itemQuantity; 

    // computer sub-total
    subtotal =  extended_price1 + extended_price2 + extended_price3 + extended_price4 + extended_price5;

   
    // compute tax
    tax_rate = 0.0575;
    tax = tax_rate * subtotal;

    // compute total
    total = subtotal + tax;
   
    // display invoice 

    </script>

    <table border="2">
            <tbody>
                <tr>
                    <th style="text-align: center;" width="43%">Item</th>
                    <th style="text-align: center;" width="11%">quantity</th>
                    <th style="text-align: center;" width="13%">price</th>
                    <th style="text-align: center;" width="54%">extended price</th>
                </tr>
                <script>
                    // item row 1
                    template = `<tr>
                    <td width="43%">${product1.itemName} </td>
                    <td align="center" width="11%">${product1.itemQuantity}</td>
                    <td width="13%">\$${product1.itemPrice}</td>
                    <td width="54%">\$${extended_price1}</td>
                    </tr>`;
                    document.write (template);

                    // item row 2
                    template = `<tr>
                    <td width="43%">${product2.itemName} </td>
                    <td align="center" width="11%">${product2.itemQuantity}</td>
                    <td width="13%">\$${product2.itemPrice}</td>
                    <td width="54%">\$${extended_price2}</td>
                    </tr>`;
                    document.write (template);

                    // item row 3
                    template = `<tr>
                    <td width="43%">${product3.itemName} </td>
                    <td align="center" width="11%">${product3.itemQuantity}</td>
                    <td width="13%">\$${product3.itemPrice}</td>
                    <td width="54%">\$${extended_price3}</td>
                    </tr>`;
                    document.write (template);

                    // item row 4
                    template = `<tr>
                    <td width="43%">${product4.itemName} </td>
                    <td align="center" width="11%">${product4.itemQuantity}</td>
                    <td width="13%">\$${product4.itemPrice}</td>
                    <td width="54%">\$${extended_price4}</td>
                    </tr>`;
                    document.write (template);

                    // item row 5
                    template = `<tr>
                    <td width="43%">${product5.itemName} </td>
                    <td align="center" width="11%">${product5.itemQuantity}</td>
                    <td width="13%">\$${product5.itemPrice}</td>
                    <td width="54%">\$${extended_price5}</td>
                    </tr>`;
                    document.write (template);

                </script>
                
                
                <tr>
                    <td colspan="4" width="100%">&nbsp;</td>
                </tr>
                <tr>
                    <td style="text-align: center;" colspan="3" width="67%">Sub-total</td>
                    <td width="54%">
                        <script>
                            template = `\$${subtotal}`;
                            document.write (template);
                        </script>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center;" colspan="3" width="67%"><span style="font-family: arial;">Tax @ 5.75%</span></td>
                    <td width="54%">
                        <script>
                            template = `\$${tax.toFixed(2)}`;
                            document.write (template);
                        </script>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center;" colspan="3" width="67%"><strong>Total</strong></td>
                    <td width="54%"><strong>
                        <script>
                                template = `\$${total.toFixed(2)}`;
                                document.write (template);
                        </script>
                    </strong></td>
                </tr>
                </tbody>
            </table>

    <table border = 1>
    <script>
        var outString = "<tr><th>Product#</th><th>Quantitiy</th></tr>"; 

        for(i=0; i < product_quantities.length; i++)

        {
            prodNum = i +1;
            outString += `<tr><td>${prodNum}</td><td>${product_quantities[i]}</td></tr>`
        }
        document.write(outString);

    </script>
    
    </table>


</body>
</html>